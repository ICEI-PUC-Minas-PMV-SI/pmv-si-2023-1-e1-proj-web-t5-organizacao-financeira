<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
</head>

<body>
    <h1>Cadastro</h1>

    <form id="login-form" class="form" method="post" onsubmit="loginUser(this)">
        <h3 class="text-center text-info">Novo usuário</h3>
        <div class="form-group">
            <label for="nome" class="text-info">Nome completo</label><br>
            <input type="text" name="txt_nome" id="txt_nome" class="form-control">
        </div>
        <div class="form-group">
            <label for="email" class="text-info">Email</label><br>
            <input type="text" name="txt_email" id="txt_email" class="form-control">
        </div>
        <div class="form-group">
            <label for="senha" class="text-info">Senha</label><br>
            <input type="password" name="txt_senha" id="txt_senha" class="form-control">
        </div>
        <div class="form-group">
            <label for="senha2" class="text-info">Confirmação de Senha</label><br>
            <input type="password" name="txt_senha2" id="txt_senha2" class="form-control">
        </div>
        <button type="button" id="btn_salvar" class="btn btn-info">Salvar</button>

    </form>

    <script src="login.js"></script>
    <script>
        document.getElementById('btn_salvar').addEventListener('click', salvaLogin);

        function salvaLogin(event) {
            // Cancela a submissão do formulário para tratar sem fazer refresh da tela
            event.preventDefault();

            // Obtem os dados do formulário
            let nome = document.getElementById('txt_nome').value;
            let email = document.getElementById('txt_email').value;
            let senha = document.getElementById('txt_senha').value;
            let senha2 = document.getElementById('txt_senha2').value;
            if (senha != senha2) {
                alert('As senhas informadas não conferem.');
                return
            }

            // Adiciona o usuário no banco de dados
            addUser(nome, email, senha);
            alert('Usuário salvo com sucesso.');
            window.location.href = 'index.html'

        }
    </script>
</body>

</html>